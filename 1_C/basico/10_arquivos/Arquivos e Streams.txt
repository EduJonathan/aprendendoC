# ğŸ“Œ STREAMS

## â“ O que Ã© uma Stream?

- Antes de entender arquivos, precisamos entender o que Ã© uma stream. Stream (ou fluxo) 
Ã© um conceito fundamental em programaÃ§Ã£o e representa uma sequÃªncia de dados que flui de 
uma origem para um destino.

- Podemos entender uma stream como uma via de mÃ£o Ãºnica por onde os dados entram ou saem do programa.

ğŸ” Resumindo:

- Uma stream Ã© uma forma abstrata de representar a transferÃªncia de dados entre o programa
e o mundo exterior (como o teclado, a tela ou arquivos).

---

## â“ DiferenÃ§a entre Arquivo e Stream

ğŸ“ Arquivo (File):

- Um arquivo Ã© um objeto fÃ­sico ou lÃ³gico de armazenamento no sistema operacional.
Ele representa dados armazenados em disco, como: ".txt", ".jpg", ".mp3", ".c", ".py", etc.

---

ğŸŒŠ Stream:

- Ã‰ uma abstraÃ§Ã£o de fluxo de dados, usada pelo programa para ler ou escrever dados â€” seja
de um arquivo, teclado, tela, rede, etc. NÃ£o Ã© o dado em si, mas o caminho por onde ele flui.

Pode representar:
1. Entrada: stdin (teclado), arquivo, socket...
2. SaÃ­da: stdout (tela), arquivo, impressora, socket...

---

| Conceito     | Arquivo                         | Stream                                     |
| ------------ | ------------------------------- | ------------------------------------------ |
| O que Ã©?     | Um **objeto de armazenamento**  | Um **canal/fluxo de comunicaÃ§Ã£o de dados** |
| Armazena?    | Sim, dados persistem em disco   | NÃ£o, apenas trafega dados temporariamente  |
| Onde existe? | No sistema de arquivos (HD/SSD) | Em tempo de execuÃ§Ã£o, na memÃ³ria           |
| Exemplo      | `dados.txt`                     | `FILE *fp = fopen("dados.txt", "r");`      |

---

## ğŸ“ Arquivos Em C

- Em C, hÃ¡ duas formas principais de trabalhar com arquivos, dependendo do formato dos dados que vocÃª deseja manipular:

---

ğŸ“ 1. Arquivos de Texto (.txt)

- SÃ£o arquivos onde os dados sÃ£o armazenados em formato legÃ­vel, como nÃºmeros, palavras e frases
  exatamente como vocÃª veria ao abrir o arquivo com um editor de texto.

----

ğŸ’¾ 2. Arquivos BinÃ¡rios (.bin)

- SÃ£o arquivos onde os dados sÃ£o armazenados em formato binÃ¡rio, ou seja, exatamente como estÃ£o representados na memÃ³ria.
- SÃ£o mais compactos e rÃ¡pidos, mas nÃ£o legÃ­veis diretamente por humanos.

Usado para:

1. Guardar estruturas (struct).
2. Salvar grandes volumes de dados com mais performance.
3. Evitar conversÃ£o para texto.

----

## ğŸ”“  Modos de abertura de arquivos

- r: PermissÃ£o de abertura somente para leitura. Ã‰ necessÃ¡rio que o arquivo jÃ¡ esteja presente no disco.

- w: PermissÃ£o de abertura para escrita (gravaÃ§Ã£o). Este cÃ³digo cria o arquivo caso
ele nÃ£o exista, e caso o mesmo exista ele recria o arquivo novamente fazendo com que
o conteÃºdo seja perdido. Portanto devemos tomar muito cuidado ao usar esse tipo de abertura.

- a: PermissÃ£o para abrir um arquivo texto para escrita(gravaÃ§Ã£o), permite acrescentar
novos dados ao final do arquivo. Caso nÃ£o exista, ele serÃ¡ criado.

---

ğŸ“ Modo de abertura de Arquivos de Texto

- "r"  | Abre para leitura. o arquivo deve existir, nÃ£o apaga o conteÃºdo.
- "w"  | Abre para escrita. Cria arquivo se nÃ£o existir, apaga conteÃºdo.
- "a"  | Abre para acrescentar (append). Cria arquivo se nÃ£o existir, nÃ£o apaga o conteÃºdo.
- "r+" | Leitura e escrita. Arquivo deve existir, nÃ£o apaga o conteÃºdo.
- "w+" | Leitura e escrita. Cria arquivo se nÃ£o existir, apaga o conteÃºdo.
- "a+" | Leitura e escrita (escreve sempre no fim). Cria arquivo se nÃ£o existir, nÃ£o apaga o conteÃºdo.

----

ğŸ’¾ Modo de abertura de Arquivos binÃ¡rios

- "rb"  | Leitura em modo binÃ¡rio, nÃ£o cria arquivo e nÃ£o apaga conteÃºdo.
- "wb"  | Escrita em modo binÃ¡rio (apaga conteÃºdo ou cria novo).
- "ab"  | Acrescenta dados binÃ¡rios no final, cria conteÃºdo e nÃ£o apaga.
- "rb+" | Leitura e escrita binÃ¡ria (arquivo deve existir), nÃ£o cria e nÃ£o apaga.
- "wb+" | Leitura e escrita binÃ¡ria (cria novo ou apaga conteÃºdo).
- "ab+" | Leitura e escrita binÃ¡ria (acrescenta no final).

----

## ğŸ’­ CURIOSIDADE

Pode-se criar arquivos .docx (Word), .xlsx (Excel), .json(JSON) e outros formatos complexos em C.

MAS:

- C nÃ£o oferece suporte nativo para lidar diretamente com esses formatos, diferentemente 
de outras linguagens como Python que possuem inÃºmeros frameworks para melhor tratamento
como pandas, pyexcel, NumPy, python-docx, etc..., pois estes arquivos sÃ£o estruturados (ZIP + XML)
e nÃ£o sÃ£o simples arquivos de texto ou binÃ¡rios planos.

- Para manipular esses formatos corretamente, vocÃª precisa usar bibliotecas externas ou de terceiros, como:

1. libxml2 â€“ para lidar com arquivos XML
2. libzip â€“ para manipular conteÃºdo compactado (.zip)
3. libxlsxwriter â€“ biblioteca em C para gerar arquivos Excel (.xlsx)
4. cJSON - Bibliotecas para manipular JSON em C (.json)

---

REFERÃŠNCIAS:
https://pt.stackoverflow.com/questions/227339/o-que-%c3%a9-stream
